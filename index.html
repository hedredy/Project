<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0">
<title>hello</title>
<style>
  html,body{height:100%;margin:0;background:#000;}
  *{
    -webkit-touch-callout:none;
    -webkit-user-select:none;
    -khtml-user-select:none;
    -moz-user-select:none;
    -ms-user-select:none;
    user-select:none;
    -webkit-tap-highlight-color:rgba(0,0,0,0);
    touch-action:none;
  }
  #wrap{height:100vh;display:flex;align-items:center;justify-content:center;overflow:hidden}
  .loader{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:#000;z-index:999999;}
  .spinner{
    width:56px;
    height:56px;
    border-radius:50%;
    border:6px solid rgba(255,255,255,0.06);
    border-top-color:rgba(255,255,255,0.9);
    animation:spin 1s linear infinite;
  }
  @keyframes spin{to{transform:rotate(360deg)}}
  #shield{
    position:fixed;
    inset:0;
    z-index:2147483647;
    background:transparent;
  }
</style>
</head>
<body>
<div id="root">
  <div id="wrap"></div>
</div>
<div id="loader" class="loader" style="display:none"><div class="spinner" aria-hidden="true"></div></div>
<div id="shield" aria-hidden="true"></div>
<script>
(() => {
  'use strict';
  const isMobile = /Mobi|Android|iPhone|iPad|iPod|Windows Phone|webOS/i.test(navigator.userAgent) || Math.max(screen.width, screen.height) <= 900;
  const showLoader = () => {
    document.getElementById('loader').style.display = 'flex';
  };
  const initMobile = () => {
    const wrap = document.getElementById('wrap');
    const canvas = document.createElement('canvas');
    canvas.id = 'c';
    canvas.setAttribute('aria-hidden','true');
    wrap.appendChild(canvas);
    const ctx = canvas.getContext('2d');
    const DPR = window.devicePixelRatio || 1;
    function resize(){
      const w = Math.max(window.innerWidth,320);
      const h = Math.max(window.innerHeight,200);
      canvas.width = Math.floor(w * DPR);
      canvas.height = Math.floor(h * DPR);
      canvas.style.width = w + 'px';
      canvas.style.height = h + 'px';
    }
    function draw(){
      const w = canvas.width;
      const h = canvas.height;
      ctx.setTransform(1,0,0,1,0,0);
      const now = performance.now();
      const toggle = Math.floor(now * 1000) % 2;
      if(toggle === 0){
        ctx.fillStyle = '#000';
        ctx.fillRect(0,0,w,h);
        ctx.fillStyle = '#fff';
      } else {
        ctx.fillStyle = '#fff';
        ctx.fillRect(0,0,w,h);
        ctx.fillStyle = '#000';
      }
      const baseSize = Math.floor(Math.min(w,h)*0.18);
      ctx.font = `700 ${baseSize}px 'Segoe UI', Roboto, Helvetica, Arial, sans-serif`;
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.shadowColor = toggle === 0 ? 'rgba(255,255,255,0.3)' : 'rgba(0,0,0,0.3)';
      ctx.shadowBlur = 8;
      ctx.fillText('hello', w/2, h/2);
    }
    function loop(){
      draw();
      requestAnimationFrame(loop);
    }
    window.addEventListener('resize', () => {
      resize();
      draw();
    });
    resize();
    loop();
    window.addEventListener('keydown', e => {e.preventDefault(); e.stopPropagation();},{capture:true});
    ['copy','cut','paste'].forEach(ev => document.addEventListener(ev, e => {e.preventDefault(); e.stopImmediatePropagation(); return false;},{capture:true}));
    document.addEventListener('contextmenu', e => e.preventDefault(), {capture:true});
    document.addEventListener('selectionchange', () => {const sel = document.getSelection && document.getSelection(); if(sel) sel.removeAllRanges();});
    window.addEventListener('gesturestart', e => e.preventDefault(), {passive:false});
    window.addEventListener('gesturechange', e => e.preventDefault(), {passive:false});
    const shield = document.getElementById('shield');
    ['touchstart','touchmove','touchend','touchcancel','pointerdown','pointermove','pointerup','pointercancel','mousedown','mouseup','mousemove'].forEach(ev => {
      shield.addEventListener(ev, e => {e.preventDefault(); e.stopImmediatePropagation();}, {passive:false});
    });
    let devtoolsOpen = false;
    const devcheck = () => {
      const threshold = 160;
      if(window.outerWidth - window.innerWidth > threshold || window.outerHeight - window.innerHeight > threshold){
        if(!devtoolsOpen){
          devtoolsOpen = true;
          ctx.clearRect(0,0,canvas.width,canvas.height);
          ctx.fillStyle='#000';
          ctx.fillRect(0,0,canvas.width,canvas.height);
        }
      }
    };
    setInterval(devcheck, 1000);
  };
  try {
    if(!isMobile) showLoader();
    else initMobile();
  } catch {
    showLoader();
  }
})();
</script>
</body>
</html>
