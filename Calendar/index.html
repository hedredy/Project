<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HedRed</title>
  <style>
    /* Основной стиль */
    body {
      font-family: 'Arial', sans-serif;
      margin: 0;
      background-color: #f4f7fa;
      padding: 0;
    }

    header {
      background-color: #4CAF50;
      padding: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: white;
    }

    .logo {
      font-size: 1.5rem;
      color: white;
      text-decoration: none;
    }

    .menu-btn {
      font-size: 1.5rem;
      cursor: pointer;
    }

    .side-menu {
      position: fixed;
      top: 0;
      left: -250px;
      width: 250px;
      height: 100%;
      background-color: #333;
      color: white;
      padding-top: 20px;
      transition: left 0.3s ease;
    }

    .side-menu a {
      color: white;
      padding: 10px;
      text-decoration: none;
      display: block;
    }

    .side-menu a:hover {
      background-color: #575757;
    }

    .side-menu .close-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      font-size: 1.5rem;
      cursor: pointer;
    }

    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      display: none;
      z-index: 998;
    }

    /* Стиль для календаря */
    .calendar-container {
      max-width: 800px;
      margin: 2rem auto;
      padding: 2rem;
      background-color: white;
      border-radius: 12px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
    }

    .calendar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .calendar-header h2 {
      margin: 0;
    }

    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 10px;
      margin-top: 1rem;
    }

    .calendar-day {
      padding: 10px;
      text-align: center;
      cursor: pointer;
      background-color: #f1f1f1;
      border-radius: 8px;
    }

    .calendar-day:hover {
      background-color: #ddd;
    }

    .task-list {
      margin-top: 2rem;
    }

    .task-item {
      background-color: #f9f9f9;
      padding: 1rem;
      margin: 1rem 0;
      border-radius: 10px;
      border-left: 5px solid #4CAF50;
    }

    .open-modal-btn {
      background-color: #4CAF50;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      display: block;
      margin: 2rem auto;
    }

    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      justify-content: center;
      align-items: center;
      z-index: 999;
    }

    .modal.active {
      display: flex;
    }

    .modal-content {
      background-color: white;
      padding: 20px;
      border-radius: 12px;
      width: 300px;
    }

    .modal-content input,
    .modal-content textarea,
    .modal-content select {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      border-radius: 8px;
      border: 1px solid #ddd;
    }

    .close-modal {
      position: absolute;
      top: 10px;
      right: 10px;
      font-size: 1.5rem;
      cursor: pointer;
      color: #333;
    }
  </style>
</head>
<body>

  <header>
    <div class="logo">HedRed</div>
    <div class="menu-btn" onclick="toggleMenu()">☰</div>
  </header>

  <!-- Боковое меню -->
  <div class="overlay" id="overlay" onclick="toggleMenu()"></div>
  <nav class="side-menu" id="sideMenu">
    <div class="close-btn" onclick="toggleMenu()">×</div>
    <a href="#">Календарь</a>
    <a href="#">Уведомления</a>
    <a href="#">Напоминания</a>
    <a href="#">Достижения</a>
    <a href="#">Настройки</a>
  </nav>

  <div class="calendar-container">
    <div class="calendar-header">
      <h2 id="calendarMonth">Апрель 2025</h2>
      <button class="open-modal-btn" onclick="openModal()">Добавить задачу</button>
    </div>

    <!-- Календарь -->
    <div class="calendar-grid" id="calendarGrid"></div>

    <div class="task-list" id="taskList"></div>
  </div>

  <!-- Модальное окно для добавления задачи -->
  <div class="modal" id="taskModal">
    <div class="modal-content">
      <span class="close-modal" onclick="closeModal()">&times;</span>
      <h3>Добавить задачу</h3>
      <input type="text" id="taskTitle" placeholder="Название задачи" />
      <textarea id="taskDesc" placeholder="Описание задачи"></textarea>
      <input type="date" id="taskDate" />
      <select id="taskImportance">
        <option value="low">Низкая важность</option>
        <option value="medium">Средняя важность</option>
        <option value="high">Высокая важность</option>
      </select>
      <button onclick="saveTask()">Сохранить задачу</button>
    </div>
  </div>

  <script>
    const taskList = document.getElementById('taskList');
    const calendarGrid = document.getElementById('calendarGrid');
    const taskModal = document.getElementById('taskModal');
    const overlay = document.getElementById('overlay');
    const taskTitle = document.getElementById('taskTitle');
    const taskDesc = document.getElementById('taskDesc');
    const taskDate = document.getElementById('taskDate');
    const taskImportance = document.getElementById('taskImportance');

    const currentMonth = new Date().getMonth();
    const currentYear = new Date().getFullYear();

    const months = [
      'Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь',
      'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'
    ];

    // Функция для генерации календаря
    function generateCalendar() {
      const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
      const firstDay = new Date(currentYear, currentMonth, 1).getDay();

      let calendarHtml = '';
      for (let i = 0; i < firstDay; i++) {
        calendarHtml += '<div class="calendar-day"></div>';
      }

      for (let day = 1; day <= daysInMonth; day++) {
        calendarHtml += `
          <div class="calendar-day" onclick="openDay(${day})">${day}</div>
        `;
      }

      calendarGrid.innerHTML = calendarHtml;
      document.getElementById('calendarMonth').textContent = `${months[currentMonth]} ${currentYear}`;
    }

    // Открытие задачи
    function openDay(day) {
      const tasks = getTasksForDay(day);
      let taskHtml = '';
      tasks.forEach(task => {
        taskHtml += `
          <div class="task-item">
            <strong>${task.title}</strong>
            <p>${task.desc}</p>
            <small>${task.date} - Важность: ${task.importance}</small>
          </div>
        `;
      });
      taskList.innerHTML = taskHtml;
    }

    // Получение задач для конкретного дня
    function getTasksForDay(day) {
      const tasks = JSON.parse(localStorage.getItem('tasks')) || [];
      return tasks.filter(task => new Date(task.date).getDate() === day);
    }

    // Открытие модального окна
    function openModal() {
      taskModal.classList.add('active');
      overlay.style.display = 'block';
    }

    // Закрытие модального окна
    function closeModal() {
      taskModal.classList.remove('active');
      overlay.style.display = 'none';
    }

    // Сохранение задачи
    function saveTask() {
      const task = {
        title: taskTitle.value,
        desc: taskDesc.value,
        date: taskDate.value,
        importance: taskImportance.value
      };

      if (!task.title || !task.date) return;

      const tasks = JSON.parse(localStorage.getItem('tasks')) || [];
      tasks.push(task);
      localStorage.setItem('tasks', JSON.stringify(tasks));
      generateCalendar();
      closeModal();
      taskTitle.value = '';
      taskDesc.value = '';
      taskDate.value = '';
      taskImportance.value = 'low';
    }

    // Переключение меню
    function toggleMenu() {
      const sideMenu = document.getElementById('sideMenu');
      const isMenuOpen = sideMenu.style.left === '0px';
      sideMenu.style.left = isMenuOpen ? '-250px' : '0px';
      overlay.style.display = isMenuOpen ? 'none' : 'block';
    }

    // Инициализация
    generateCalendar();
  </script>
</body>
</html>
